<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Output files: &#8212; Continuous-Peak-Fit 0.0 alpha documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/agogo.css?v=08520df9" />
    <script src="_static/documentation_options.js?v=cddd5768"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="XRD_FitPattern’s examples and the features they test." href="example%20function%20tests.html" />
    <link rel="prev" title="Bounds" href="bounds.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Continuous-Peak-Fit 0.0 alpha documentation</a></div>
        <div class="rel" role="navigation" aria-label="Related">
          <a href="bounds.html" title="Bounds"
             accesskey="P">previous</a> |
          <a href="example%20function%20tests.html" title="XRD_FitPattern’s examples and the features they test."
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="output-files">
<h1>Output files:<a class="headerlink" href="#output-files" title="Link to this heading">¶</a></h1>
<p>The code produces various json formatted files as default as well as optional image files. The Image files will be not discussed here. The json files are formatted as follows:</p>
<section id="full-fit-json-file">
<h2>Full fit <a href="#id1"><span class="problematic" id="id2">*</span></a>.json file<a class="headerlink" href="#full-fit-json-file" title="Link to this heading">¶</a></h2>
<p>Produced by XRD_FitPattern.execute(‘input_file.py’)</p>
<p>Each diffraction pattern when fit produces a <a href="#id3"><span class="problematic" id="id4">*</span></a>.json file that contains the outputs from the fits.
These are structured in a similar manner to the ‘fit_orders’ list of dictionaries in the input file but with additional values.</p>
<p>There is a dictionary entry for each range in the input file.
The dictionary contains the following enties.</p>
<ul class="simple">
<li><p>DataProperties</p></li>
<li><p>FitProperties</p></li>
<li><p>PeakLabel</p></li>
<li><p>background</p></li>
<li><p>background_err</p></li>
<li><p>background_type</p></li>
<li><p>correlation_coeffs</p></li>
<li><p>peak</p></li>
<li><p>range</p></li>
</ul>
<p>The peak entry is also a list of dictionaries, one for each peak in the input range.
The parameters in each entry are the fitted values for the named value.</p>
<p>Each peak parameter has three associated entries in the dictionary:</p>
<ul class="simple">
<li><p>parameter – the fitted coefficients</p></li>
<li><p>parameter_err – the errors on these coefficients</p></li>
<li><p>parameter_type – the series type of the coefficients</p></li>
</ul>
<p>An example dictionary entry for one range in the json file is:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div></blockquote>
<dl>
<dt>[</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“DataProperties”: {</dt><dd><p>“max”: 4812.0,
“min”: 0.0</p>
</dd>
</dl>
<p>},
“FitProperties”: {</p>
<blockquote>
<div><p>“ChiSq”: 184214466.53235897,
“RedChiSq”: 6144.988542676595,
“aic”: 261587.6361675344,
“bic”: 261654.10405461484,
“chunks-time”: 0.007439851760864258,
“degree-of-freedom”: 29978,
“function-evaluations”: 37,
“n-data”: 29986,
“n-variables”: 8,
“status”: 125,
“sum-residuals-squared”: 184214466.53235897,
“time-elapsed”: 2.0933940410614014</p>
</div></blockquote>
<p>},
“PeakLabel”: “Ni_FCC_alloy (111)”,
“background”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>6.853738672982084</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“background_err”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.6023096161637345</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“background_type”: “spline_cubic”,
“correlation_coeffs”: “{&quot;bg_c0_f0&quot;: {&quot;peak_0_h0&quot;: -0.06549834714563857, &quot;peak_0_h1&quot;: -0.1666117505895424, &quot;peak_0_h2&quot;: -0.1852866709498333, &quot;peak_0_d0&quot;: 0.001256451455142335, &quot;peak_0_d3&quot;: -0.0005122549843816782, &quot;peak_0_d4&quot;: -0.0009477254922480384, &quot;peak_0_w0&quot;: -0.3775816489154083}, &quot;bg_c0_f_tp&quot;: null, &quot;peak_0_s0&quot;: null, &quot;peak_0_h0&quot;: {&quot;bg_c0_f0&quot;: -0.06549834714563857, &quot;peak_0_h1&quot;: 0.13653862651020207, &quot;peak_0_h2&quot;: 0.15482343627632464, &quot;peak_0_d0&quot;: 0.0014358433026510644, &quot;peak_0_d3&quot;: 0.00034255031239486183, &quot;peak_0_d4&quot;: -9.03014679756105e-05, &quot;peak_0_w0&quot;: -0.4524384746501567}, &quot;peak_0_h1&quot;: {&quot;bg_c0_f0&quot;: -0.16661175058954245, &quot;peak_0_h0&quot;: 0.13653862651020207, &quot;peak_0_h2&quot;: 0.04582881574689647, &quot;peak_0_d0&quot;: -0.0044554415717901015, &quot;peak_0_d3&quot;: 0.00022823349789936358, &quot;peak_0_d4&quot;: 0.004749905993261898, &quot;peak_0_w0&quot;: -0.26130121917185667}, &quot;peak_0_h2&quot;: {&quot;bg_c0_f0&quot;: -0.1852866709498333, &quot;peak_0_h0&quot;: 0.15482343627632464, &quot;peak_0_h1&quot;: 0.045828815746896456, &quot;peak_0_d0&quot;: 0.008886378058758136, &quot;peak_0_d3&quot;: -0.0023206655636863567, &quot;peak_0_d4&quot;: -0.013849007354279543, &quot;peak_0_w0&quot;: -0.15325046782899288}, &quot;peak_0_h_tp&quot;: null, &quot;peak_0_d0&quot;: {&quot;bg_c0_f0&quot;: 0.0012564514551423366, &quot;peak_0_h0&quot;: 0.0014358433026510644, &quot;peak_0_h1&quot;: -0.004455441571790101, &quot;peak_0_h2&quot;: 0.008886378058758136, &quot;peak_0_d3&quot;: -0.022822968502537577, &quot;peak_0_d4&quot;: -0.1159353507330648, &quot;peak_0_w0&quot;: 0.009292577955583374}, &quot;peak_0_d1&quot;: null, &quot;peak_0_d2&quot;: null, &quot;peak_0_d3&quot;: {&quot;bg_c0_f0&quot;: -0.0005122549843816782, &quot;peak_0_h0&quot;: 0.0003425503123948614, &quot;peak_0_h1&quot;: 0.00022823349789936358, &quot;peak_0_h2&quot;: -0.0023206655636863567, &quot;peak_0_d0&quot;: -0.022822968502537577, &quot;peak_0_d4&quot;: 0.017357152303744103, &quot;peak_0_w0&quot;: 0.0019994248689470685}, &quot;peak_0_d4&quot;: {&quot;bg_c0_f0&quot;: -0.0009477254922480399, &quot;peak_0_h0&quot;: -9.030146797560995e-05, &quot;peak_0_h1&quot;: 0.004749905993261897, &quot;peak_0_h2&quot;: -0.013849007354279538, &quot;peak_0_d0&quot;: -0.1159353507330648, &quot;peak_0_d3&quot;: 0.017357152303744103, &quot;peak_0_w0&quot;: -0.006883271430247167}, &quot;peak_0_d_tp&quot;: null, &quot;peak_0_w0&quot;: {&quot;bg_c0_f0&quot;: -0.37758164891540824, &quot;peak_0_h0&quot;: -0.4524384746501567, &quot;peak_0_h1&quot;: -0.26130121917185667, &quot;peak_0_h2&quot;: -0.15325046782899288, &quot;peak_0_d0&quot;: 0.009292577955583376, &quot;peak_0_d3&quot;: 0.0019994248689470685, &quot;peak_0_d4&quot;: -0.006883271430247167}, &quot;peak_0_w_tp&quot;: null, &quot;peak_0_p0&quot;: null, &quot;peak_0_p_tp&quot;: null}”,
“peak”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“d-space”: [</dt><dd><p>2.0868950217728846,
0.0,
0.0,
-0.0019622103654890477,
0.0004326382134808848</p>
</dd>
</dl>
<p>],
“d-space_err”: [</p>
<blockquote>
<div><p>0.00043161061877024123,
0,
0,
0.0005985061109717787,
0.0006184947151738631</p>
</div></blockquote>
<p>],
“d-space_type”: “fourier”,
“height”: [</p>
<blockquote>
<div><p>49.50312863268371,
29.817110795113273,
22.617325696699567</p>
</div></blockquote>
<p>],
“height_err”: [</p>
<blockquote>
<div><p>3.416258208867711,
3.0443686696480197,
3.3142337294737043</p>
</div></blockquote>
<p>],
“height_type”: “spline_cubic”,
“hkl”: 111,
“phase”: “Ni_FCC_alloy”,
“profile”: [</p>
<blockquote>
<div><p>0.7</p>
</div></blockquote>
<p>],
“profile_err”: [</p>
<blockquote>
<div><p>0</p>
</div></blockquote>
<p>],
“profile_type”: “fourier”,
“symmetry”: 1,
“width”: [</p>
<blockquote>
<div><p>0.018394009324434288</p>
</div></blockquote>
<p>],
“width_err”: [</p>
<blockquote>
<div><p>0.0014175517606364613</p>
</div></blockquote>
<p>],
“width_type”: “fourier”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“range”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>5.000004502946348,
5.2999923226886</p>
</dd>
</dl>
<p>],
[</p>
<blockquote>
<div><p>2.0201290460258505,
2.1412477703125647</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},</p>
</dd>
</dl>
</section>
<section id="output-files-chunks-json">
<h2>Output files: <a href="#id5"><span class="problematic" id="id6">*</span></a>__chunks.json<a class="headerlink" href="#output-files-chunks-json" title="Link to this heading">¶</a></h2>
<p>Produced by cpf.Cascade.execute?(“inputfile.py”)</p>
<p>The output file contains two top level lists.
The first list is a list of peak parameters, and the second is the position of the chunks in the first list.</p>
<p>The first list is a list of dictionaries. one dictionary for each range in the input file.
In has entries:</p>
<ul class="simple">
<li><p>peak – peak name</p></li>
<li><p>chunks – mean azimuthal position of the chunk</p></li>
<li><p>bg – background fits</p></li>
<li><p>bg_err – errors thereon</p></li>
<li><p>d – dspacing fits</p></li>
<li><p>d_err – errors thereon</p></li>
<li><p>h – height fits</p></li>
<li><p>h_err – errors thereon</p></li>
<li><p>p – profile fits</p></li>
<li><p>p_err – errors thereon</p></li>
<li><p>w – width fits</p></li>
<li><p>w_err – errors thereon</p></li>
</ul>
<p>Each dictionary entry is a list of lists. For the peak parameters (d,h,p,w), the number of the inner lists is the number of peaks in the range. The length of each of these lists is the number of azimuthal chunks that were fit (see ?? for how the azimuthal chunks were defined).</p>
<p>The background (bg) is also a list. the length of this list of the length of the background list in the input file. It is a polynomial.</p>
<p>chunks lists the mean azimuth of each chunk.</p>
<p>peak labels the peak using the information provided in the input file.</p>
<p>An example chunk output with a single azimuth (i.e. -180 to 180 degrees) is this:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div></blockquote>
<dl>
<dt>[</dt><dd><dl>
<dt>{</dt><dd><dl>
<dt>“bg”: [</dt><dd><dl class="simple">
<dt>[</dt><dd><p>2.691982806955949</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>],
“bg_err”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.02297890339346997</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“chunks”: [</p>
<blockquote>
<div><p>4.147222281400086</p>
</div></blockquote>
<p>],
“d”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>3.563848497645126</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“d_err”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.00203163076034729</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“h”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>1.2479759854565744</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“h_err”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.0630295184727987</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“p”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.7</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“p_err”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“peak”: “Ni_FCC_alloy_superlattice (100)”,
“w”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.03531636856078305</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>],
“w_err”: [</p>
<blockquote>
<div><dl class="simple">
<dt>[</dt><dd><p>0.0024119947016804956</p>
</dd>
</dl>
<p>]</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},</p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="x-ray%20diffraction.html">X-ray diffraction fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Download and Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="running%20cpf.html"><em>Continuous peak fit</em>, via the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="input%20file%20short.html">Input file structure (short)</a></li>
<li class="toctree-l1"><a class="reference internal" href="input%20file.html">Input file structure (long)</a></li>
<li class="toctree-l1"><a class="reference internal" href="input%20file%20h5%20syntax.html">Sytax for iterating over hdf5 files.</a></li>
<li class="toctree-l1"><a class="reference internal" href="subpattern%20structure.html">Subpatterns and peaks</a></li>
<li class="toctree-l1"><a class="reference internal" href="bounds.html">Bounds</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Output files:</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#full-fit-json-file">Full fit *.json file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-files-chunks-json">Output files: *__chunks.json</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example%20function%20tests.html">XRD_FitPattern’s examples and the features they test.</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">APIs</a></li>
</ul>

          <search role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </search>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="Related">
            <a href="bounds.html" title="Bounds"
              >previous</a> |
            <a href="example%20function%20tests.html" title="XRD_FitPattern’s examples and the features they test."
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/output_file_structure.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
    &#169; Copyright Simon Hunt &amp; Danielle Fenech, 2020.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>